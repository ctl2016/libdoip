digraph G {
    subgraph cluster_main {
        InitGlobal [label="initGlobal"];
        ChkOtaEvt [label="Cond-ChkOtaEvt"];
        StartZmqSvr [label="StartZmqSvr"];
        ChkActState [label="ChkActState"];
        StartFlash [label="falsh"];
        StartAct [label="activate"];
        FlashSoc [label="FlashSoc"];
        FlashMcu [label="FlashMcu"];
        ActSoc [label="ActSoc"];
        ActMcu [label="ActMcu"];
        endFlash[label="endFlash" shape=diamond color=black fillcolor=aquamarine style=filled];
        endAct[label="endAct" shape=diamond color=black fillcolor=aquamarine style=filled];

        InitGlobal [ color=black fillcolor=red style=filled ];
        ChkOtaEvt [ shape=diamond color=black fillcolor=aquamarine style=filled ];
        
        InitGlobal -> StartZmqSvr;
        InitGlobal-> ChkActState -> ChkOtaEvt;

        ChkOtaEvt -> StartFlash [label="0" style=dashed];
        ChkOtaEvt -> StartAct [label="0" style=dashed];

        subgraph cluster_1 {
            node [style=filled,color=white];
            label = "Subflow: flash";
            style=filled;
            color=lightgrey;
            FlashSoc -> StartFlash;
            FlashMcu -> StartFlash;
        }
    
        subgraph cluster_2 {
            node [style=filled,color=white];
            label = "Subflow: activate";
            style=filled;
            color=lightgrey;
            ActSoc -> StartAct;
            ActMcu -> StartAct;
        }

        StartAct -> endAct -> ChkOtaEvt [style=dashed label="0"];
        StartFlash -> endFlash -> ChkOtaEvt [style=dashed label="0"];

    }
}
